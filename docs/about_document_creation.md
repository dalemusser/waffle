

# WAFFLE Documentation Creation Guidelines  
*A distilled guide to how WAFFLE documentation must be structured, written, and connected.*

This document captures the **lessons learned** from clarifying WAFFLEâ€™s architecture and mental models.  
WAFFLE documentation must reinforce these principles consistently â€” because WAFFLEâ€™s power comes from:

- clarity  
- explicitness  
- teachability  
- composability  
- AIâ€‘friendliness  

Below are the three key sections:

1. **The core lessons we uncovered**  
2. **Why they matter**  
3. **How to apply them in all future WAFFLE docs**

---

# ğŸŸ¦ 1. What We Learned (The Critical Lessons)

## **Lesson 1 â€” Always show *where* code lives.**

Users must never wonder:

- â€œWhich file does this go in?â€  
- â€œIs this generated by makewaffle or handwritten by me?â€  
- â€œIs this a feature file or a bootstrap file?â€

Documentation must always specify:

- **File path**  
- **Who created it** (WAFFLE vs developer)  
- **Its architectural role**

This grounds abstract ideas in concrete project structure.

---

## **Lesson 2 â€” Examples must show the *connections*, not live in isolation.**

Bad example:

```go
func Routes() chi.Router
```

Good example must show:

- where `Routes()` lives  
- how it connects to `BuildHandler`  
- how the handler struct is constructed  
- how dependencies flow into the handler  

WAFFLE documentation must illustrate **architecture**, not just syntax.

---

## **Lesson 3 â€” WAFFLE functions must always be documented in their ecosystem context.**

`Routes()` alone is confusing.  
`Routes(h *Handler)` is meaningful â€” **if and only if** docs also show:

- where the Handler struct lives  
- how the handler is constructed in `BuildHandler`  
- where `BuildHandler` is located  
- how WAFFLE boots the app  
- how a request flows through that pipeline  

Docs must explain the full flow:

```
Config â†’ DBDeps â†’ Handler â†’ Routes â†’ Router â†’ Server
```

---

## **Lesson 4 â€” Users must see the WAFFLE lifecycle visually and consistently.**

WAFFLEâ€™s flow:

```
LoadConfig
    â†“
ConnectDB (produces DBDeps)
    â†“
EnsureSchema
    â†“
BuildHandler (constructs feature handlers)
    â†“
Routes(h)
    â†“
Chi Router
    â†“
HTTP Server (single Go binary)
```

Every doc must reinforce this mental model.

---

## **Lesson 5 â€” Documentation must show *real, complete examples*.**

Not toy code. Not partial snippets.

Docs must include:

- full handler structs  
- real constructors  
- real `Routes(h)` usage  
- real template files  
- full `BuildHandler` wiring  
- realistic directory trees  

WAFFLEâ€™s core values include clarity, explicitness, and teachability â€” examples must reflect this.

---

## **Lesson 6 â€” Always emphasize: â€œTopâ€‘level decides *where*, feature decides *what*.â€**

Users must internalize:

- `BuildHandler` defines app structure  
- Features define behavior within their namespace  
- Handlers hold all dependencies  
- Routes bind URLs to handler methods  

This is one of WAFFLEâ€™s most important mental models.

---

## **Lesson 7 â€” Teach *why*, not just *how*.**

WAFFLE docs should explain reasoning:

- Why `Routes()` must take a handler  
- Why `BuildHandler` is the center of the universe  
- Why Goâ€™s explicitness matches WAFFLEâ€™s design  
- Why WAFFLE avoids DI containers  
- Why HTMX over React  
- Why DBDeps is explicit  

Advanced engineers and educators need these explanations.

---

## **Lesson 8 â€” Highlight WAFFLEâ€™s unique hybridity: framework + teaching + AIâ€‘friendliness.**

WAFFLE is not just an API reference.

Docs must communicate:

- how WAFFLE is designed for clarity  
- why beginners can learn from it  
- why experts trust it  
- why AI can generate WAFFLE code reliably  
- why WAFFLEâ€™s patterns matter  

This is a **strategic differentiator**.

---

# ğŸŸ§ 2. Why These Lessons Matter

These patterns are not accidental â€” they define WAFFLEâ€™s identity.

WAFFLE is:

- **explicit** (aligned with Go philosophy)  
- **predictable** (great for AI)  
- **structured** (excellent for teaching)  
- **unmagical** (easy to debug)  
- **featureâ€‘oriented** (scalable)  
- **lifecycleâ€‘driven** (unified mental model)  

Docs must reflect that **WAFFLE is a pedagogical architecture** â€” a framework built for reasoning, not tricks.

---

# ğŸŸ© 3. How to Apply These Lessons to All Future WAFFLE Docs

### ğŸ“Œ **Rule #1 â€” Every code example must state:**
- File path  
- Created by WAFFLE or developer  
- Role in architecture  
- How it connects to the next step  

---

### ğŸ“Œ **Rule #2 â€” Never show a function signature without surrounding architecture.**

If we show:

```go
func Routes() chi.Router
```

We must also show:

- where it lives  
- how `BuildHandler` calls it  
- how the handler is constructed  
- what URL paths it produces  

---

### ğŸ“Œ **Rule #3 â€” Every feature example must include BOTH:**
- Feature-level code (`handler.go`, `routes.go`)  
- Top-level wiring (`BuildHandler` in `bootstrap/hooks.go`)  

---

### ğŸ“Œ **Rule #4 â€” Every doc must reinforce the WAFFLE lifecycle.**

Start with:

> **â€œWAFFLE apps follow this lifecycleâ€¦â€**

---

### ğŸ“Œ **Rule #5 â€” Use consistent terminology everywhere.**

- *Handler*  
- *Feature*  
- *BuildHandler*  
- *DBDeps*  
- *Routes(h *Handler)*  
- *Feature folder*  

---

### ğŸ“Œ **Rule #6 â€” Prefer complete examples over fragments.**

Include:

- whole folders  
- full handler structs  
- complete bootstrap wiring  
- practical code  

---

### ğŸ“Œ **Rule #7 â€” Lead with mental models, then show code.**

Each doc should explain:

- how to think about the problem  
- how WAFFLE approaches it  
- where this piece fits in the architecture  

---

### ğŸ“Œ **Rule #8 â€” Use diagrams wherever possible.**

Examples:

```
Feature â†’ Handler â†’ Routes â†’ BuildHandler â†’ Server
```

WAFFLE is architectural â€” visuals help.

---

### ğŸ“Œ **Rule #9 â€” Clarify differences from common patterns.**

Such as:

- `Routes()` vs `Routes(h *Handler)`  
- subrouter mounting vs feature-owned routes  
- DBDeps vs DI containers  

---

### ğŸ“Œ **Rule #10 â€” Maintain the WAFFLE tone: clarity first, joy second.**

Humor is garnish â€” clarity is the meal.  
Docs must stay approachable **without losing authority**.

---

# â­ Conclusion

The central principle:

## **WAFFLE documentation must teach WAFFLEâ€™s architecture, not just its APIs.**

Docs must always show:

- where each part lives  
- where it came from  
- how it connects to the whole  
- why WAFFLE is structured this way  

This enables:

- beginners to learn
- learners to trust
- educators to teach
- contributors to extend
- AI to generate

WAFFLE has the opportunity to set a new standard for framework documentation â€” one built on clarity, reasoning, and composability.

Following this blueprint will ensure every new WAFFLE doc is vastly clearer and more valuable.